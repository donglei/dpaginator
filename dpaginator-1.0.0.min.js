/**
auth:donglei
email:xiaosan@outlook.com
*/
var dPaginator=(function(){function a(c,b,d){this.currentPage=d;this.total=c;this.perPage=b}a.prototype.toLink=function(){this.calculateLastPages();var b;if(this.lastPage<13){b=this.getPageRange(1,this.lastPage)}else{b=this.getPageSlider()}return'<ul class="pagination">'+this.getPrevious()+b+this.getNext()+"</ul>"};a.prototype.getNext=function(b){if(typeof b==="undefined"){b="&raquo;"}if(this.currentPage>=this.lastPage){return this.getDisabledTextWrapper(b)}else{return this.getLinkTextWrapper(this.getLinks(this.currentPage+1,b))}};a.prototype.getPrevious=function(b){if(typeof b==="undefined"){b="&laquo;"}if(this.currentPage<=1){return this.getDisabledTextWrapper(b)}else{return this.getLinkTextWrapper(this.getLinks(this.currentPage-1,b))}return b};a.prototype.getLinkTextWrapper=function(b){return"<li>"+b+"</li>"};a.prototype.getDisabledTextWrapper=function(b){return'<li class="disabled"><span>'+b+"</span></li>"};a.prototype.getActivePageWrapper=function(b){return'<li class="active"><span>'+b+"</span></li>"};a.prototype.getPageRange=function(e,c){var b="";for(var d=e;d<=c;d++){if(d==this.currentPage){b+=this.getActivePageWrapper(d.toString())}else{b+=this.getLinkTextWrapper(this.getLinks(d))}}return b};a.prototype.getPageSlider=function(){var d=6;if(this.currentPage<=d){var b=this.getFinish();return this.getPageRange(1,d+2)+b}if(this.currentPage>=this.lastPage-d){var e=this.lastPage-8;var c=this.getPageRange(e,this.lastPage);return this.getStart()+c}else{var c=this.getAdjacentRange();return this.getStart()+c+this.getFinish()}};a.prototype.getAdjacentRange=function(){return this.getPageRange(this.currentPage-3,this.currentPage+3)};a.prototype.getStart=function(){var b=this.getPageRange(1,2);return b+this.getDots()};a.prototype.getFinish=function(){var b=this.getPageRange(this.lastPage-1,this.lastPage);return this.getDots()+b};a.prototype.getDots=function(){return this.getDisabledTextWrapper("...")};a.prototype.getLinks=function(c,d){if(typeof d==="undefined"){d=""}var b=this.getAttributes(c);return"<a "+b+" >"+(d==""?c.toString():d)+"</a>"};a.prototype.getAttributes=function(b){return this.attributes.replace(/:page:/gi,b)};a.prototype.setAttributes=function(b){this.attributes=b};a.prototype.calculateLastPages=function(){this.lastPage=Math.ceil(this.total/this.perPage)};return a})();
